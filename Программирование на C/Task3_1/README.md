## Задание 3 (Часть 1)

1) Написать утилиту **shell_andor.c**, моделирующую конструкции шелла 
    ```c
    pr1 arg1; pr2 arg2 
    pr1 arg1 && pr2 arg2 
    pr1 arg1 || pr2 arg2
    ```
    В командной строке задается 5 аргументов: `pr1`, `arg1`, `pr2`, `arg2` и либо `&&`, либо `||`, 
    либо `;`  
    (для того, чтобы `;`,  `&&` и `||` не обрабатывались шеллом, а передавались в вызываемую 
    утилиту в качестве аргументов необходимо заключать их в кавычки), например:
    ```c
    ./shell_andor sleep 3 ";" sleep 2
    ./shell_andor cat f1 "&&" sleep 5
    ./shell_andor ls -l "||" echo abc
    ```
    В отличии от упрощенного решения 8.19, рассмотренного на семинаре, для правильного моделирования соответствующих 
    конструкций шелла, программа `shell_andor` должна 
    * Завершаться только после завершения `pr2` (если он был запущен);
    * Возвращать успех (`0`) или неуспех (`не 0`) в зависимости от кодов возврата `pr1`, `pr2` - правила формирования 
    возвращаемого значения такие же, как для операций `&&` и `||` в Си, только в шелле `ИСТИНА` - это `0` (успех), 
    а `ЛОЖЬ` - `не 0` (неуспех) (в Си - наоборот).
2) Протестировать утилиту **shell_andor.c**. Для этого предложить варианты запуска `shell_andor`, позволяющие проверить:
    * Ленивость операций `&&` и `||` (здесь может помочь команда `cat f1`, которая завершается успешно, 
    если файл `f1` существует, и неуспешно в противном случае; например, `cat nonexistingfile && echo "&& doesn't work correctly"` );
    * Правильность возвращаемого значения операций `&&` и `||`;
    * То, что утилита завершается после того, как завершается `pr2` (если она была запущена), либо `pr1` (если `pr2` не была запущена); 
    здесь могут помочь утилиты `sleep` и `time`;
    * То, что `pr1` и `p2` выполняются последовательно, а не параллельно.
    
    Набор тестов можно оформить в виде текстового файла (*на 3*), либо в виде скрипта (*на 4*), либо в виде программы на 
    Си с автопроверкой результата (*на 5*).
    
    В moodle необходимо загрузить:
    * на 3: **shell_andor.c** и **test.txt** (варианты запуска утилиты **shell_andor.c** и как они позволяют протестировать 
    правильность утилиты: для каждого теста должно быть указано, что ожидать от правильно работающей утилиты на этом тесте 
    и что от неправильно работающей);
    * на 4: **shell_andor.c** и **test.sh** (**test.sh** перед каждом тестом должен печатать, что мы проверяем и 
    как это проверить по выводу теста, после этого запускать сам тест - shell_andor с необходимыми параметрами);
    * на 5: **shell_andor.c** и **test.c** (**test.c** должен запускать **shell_andor** с разными наборами 
    параметров, проверять правильность работы `shell_andor` на каждом наборе и выдавать пользователю по каждому 
    тесту: успешно он прошел или нет, если неуспешно - что ожидали получить и что получили на самом деле; 
    в конце необходимо вывести число успешно прошедших/общее число тестов).

